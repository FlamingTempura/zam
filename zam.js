!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.zam=t()}(this,function(){"use strict";var e=function(){function e(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}function t(e,r,n,i){this.message=e,this.expected=r,this.found=n,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}function r(e,r){function n(){return e.substring(Mr,Tr)}function i(e,t){return{type:"literal",text:e,ignoreCase:t}}function o(e,t,r){return{type:"class",parts:e,inverted:t,ignoreCase:r}}function a(){return{type:"any"}}function u(){return{type:"end"}}function s(e){return{type:"other",description:e}}function c(t){var r,n=Sr[t];if(n)return n;for(r=t-1;!Sr[r];)r--;for(n=Sr[r],n={line:n.line,column:n.column};r<t;)10===e.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return Sr[t]=n,n}function l(e,t){var r=c(e),n=c(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:n.line,column:n.column}}}function f(e){Tr<Rr||(Tr>Rr&&(Rr=Tr,Ur=[]),Ur.push(e))}function d(e,r,n){return new t(t.buildMessage(e,r),e,r,n)}function h(){var t,r,n,i,o=32*Tr+0,a=Br[o];if(a)return Tr=a.nextPos,a.result;for(t=Tr,r=[],Q.test(e.charAt(Tr))?(n=e.charAt(Tr),Tr++):(n=J,0===qr&&f(W));n!==J;)r.push(n),Q.test(e.charAt(Tr))?(n=e.charAt(Tr),Tr++):(n=J,0===qr&&f(W));if(r!==J?(n=p(),n!==J?(i=h(),i!==J?(Mr=t,r=X(r,n,i),t=r):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J),t===J){for(t=Tr,r=[],e.length>Tr?(n=e.charAt(Tr),Tr++):(n=J,0===qr&&f(Y));n!==J;)r.push(n),e.length>Tr?(n=e.charAt(Tr),Tr++):(n=J,0===qr&&f(Y));r!==J&&(Mr=t,r=Z(r)),t=r}return Br[o]={nextPos:Tr,result:t},t}function p(){var t,r,n,i,o,a,u=32*Tr+1,s=Br[u];return s?(Tr=s.nextPos,s.result):(t=Tr,"{{{"===e.substr(Tr,3)?(r=ee,Tr+=3):(r=J,0===qr&&f(te)),r!==J?(n=D(),n!==J?(i=v(),i!==J?(o=D(),o!==J?("}}}"===e.substr(Tr,3)?(a=re,Tr+=3):(a=J,0===qr&&f(ne)),a!==J?(Mr=t,r=ie(i),t=r):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J),t===J&&(t=Tr,"{{"===e.substr(Tr,2)?(r=oe,Tr+=2):(r=J,0===qr&&f(ae)),r!==J?(n=D(),n!==J?(i=v(),i!==J?(o=D(),o!==J?("}}"===e.substr(Tr,2)?(a=ue,Tr+=2):(a=J,0===qr&&f(se)),a!==J?(Mr=t,r=ce(i),t=r):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J)),Br[u]={nextPos:Tr,result:t},t)}function v(){var t,r,n,i,o,a,u=32*Tr+2,s=Br[u];return s?(Tr=s.nextPos,s.result):(t=Tr,r=m(),r!==J?(n=D(),n!==J?(61===e.charCodeAt(Tr)?(i=le,Tr++):(i=J,0===qr&&f(fe)),i===J&&("*="===e.substr(Tr,2)?(i=de,Tr+=2):(i=J,0===qr&&f(he)),i===J&&("/="===e.substr(Tr,2)?(i=pe,Tr+=2):(i=J,0===qr&&f(ve)),i===J&&("%="===e.substr(Tr,2)?(i=me,Tr+=2):(i=J,0===qr&&f(xe)),i===J&&("+="===e.substr(Tr,2)?(i=be,Tr+=2):(i=J,0===qr&&f(ge)),i===J&&("-="===e.substr(Tr,2)?(i=Ae,Tr+=2):(i=J,0===qr&&f(ye))))))),i!==J?(o=D(),o!==J?(a=v(),a!==J?(Mr=t,r=Pe(r,i,a),t=r):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J),t===J&&(t=x()),Br[u]={nextPos:Tr,result:t},t)}function m(){var e,t=32*Tr+3,r=Br[t];return r?(Tr=r.nextPos,r.result):(e=E(),e===J&&(e=$()),Br[t]={nextPos:Tr,result:e},e)}function x(){var t,r,n,i,o,a,u,s,c,l,d=32*Tr+4,h=Br[d];return h?(Tr=h.nextPos,h.result):(t=Tr,r=b(),r!==J?(n=D(),n!==J?(63===e.charCodeAt(Tr)?(i=Ce,Tr++):(i=J,0===qr&&f(we)),i!==J?(o=D(),o!==J?(a=x(),a!==J?(u=D(),u!==J?(58===e.charCodeAt(Tr)?(s=ke,Tr++):(s=J,0===qr&&f(Ee)),s!==J?(c=D(),c!==J?(l=x(),l!==J?(Mr=t,r=$e(r,a,l),t=r):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J),t===J&&(t=b()),Br[d]={nextPos:Tr,result:t},t)}function b(){var t,r,n,i,o,a,u,s,c=32*Tr+5,l=Br[c];if(l)return Tr=l.nextPos,l.result;if(t=Tr,r=g(),r!==J){for(n=[],i=Tr,o=D(),o!==J?("||"===e.substr(Tr,2)?(a=Ve,Tr+=2):(a=J,0===qr&&f(Ne)),a!==J?(u=D(),u!==J?(s=g(),s!==J?(Mr=i,o=je(r,s),i=o):(Tr=i,i=J)):(Tr=i,i=J)):(Tr=i,i=J)):(Tr=i,i=J);i!==J;)n.push(i),i=Tr,o=D(),o!==J?("||"===e.substr(Tr,2)?(a=Ve,Tr+=2):(a=J,0===qr&&f(Ne)),a!==J?(u=D(),u!==J?(s=g(),s!==J?(Mr=i,o=je(r,s),i=o):(Tr=i,i=J)):(Tr=i,i=J)):(Tr=i,i=J)):(Tr=i,i=J);n!==J?(Mr=t,r=Le(r,n),t=r):(Tr=t,t=J)}else Tr=t,t=J;return Br[c]={nextPos:Tr,result:t},t}function g(){var t,r,n,i,o,a,u,s,c=32*Tr+6,l=Br[c];if(l)return Tr=l.nextPos,l.result;if(t=Tr,r=A(),r!==J){for(n=[],i=Tr,o=D(),o!==J?("&&"===e.substr(Tr,2)?(a=ze,Tr+=2):(a=J,0===qr&&f(Oe)),a!==J?(u=D(),u!==J?(s=A(),s!==J?(Mr=i,o=Fe(r,s),i=o):(Tr=i,i=J)):(Tr=i,i=J)):(Tr=i,i=J)):(Tr=i,i=J);i!==J;)n.push(i),i=Tr,o=D(),o!==J?("&&"===e.substr(Tr,2)?(a=ze,Tr+=2):(a=J,0===qr&&f(Oe)),a!==J?(u=D(),u!==J?(s=A(),s!==J?(Mr=i,o=Fe(r,s),i=o):(Tr=i,i=J)):(Tr=i,i=J)):(Tr=i,i=J)):(Tr=i,i=J);n!==J?(Mr=t,r=Le(r,n),t=r):(Tr=t,t=J)}else Tr=t,t=J;return Br[c]={nextPos:Tr,result:t},t}function A(){var t,r,n,i,o,a,u,s,c=32*Tr+7,l=Br[c];if(l)return Tr=l.nextPos,l.result;if(t=Tr,r=y(),r!==J){for(n=[],i=Tr,o=D(),o!==J?("==="===e.substr(Tr,3)?(a=Te,Tr+=3):(a=J,0===qr&&f(Me)),a===J&&("!=="===e.substr(Tr,3)?(a=Se,Tr+=3):(a=J,0===qr&&f(Re)),a===J&&("=="===e.substr(Tr,2)?(a=Ue,Tr+=2):(a=J,0===qr&&f(qe)),a===J&&("!="===e.substr(Tr,2)?(a=Be,Tr+=2):(a=J,0===qr&&f(Ie))))),a!==J?(u=D(),u!==J?(s=y(),s!==J?(Mr=i,o=De(r,a,s),i=o):(Tr=i,i=J)):(Tr=i,i=J)):(Tr=i,i=J)):(Tr=i,i=J);i!==J;)n.push(i),i=Tr,o=D(),o!==J?("==="===e.substr(Tr,3)?(a=Te,Tr+=3):(a=J,0===qr&&f(Me)),a===J&&("!=="===e.substr(Tr,3)?(a=Se,Tr+=3):(a=J,0===qr&&f(Re)),a===J&&("=="===e.substr(Tr,2)?(a=Ue,Tr+=2):(a=J,0===qr&&f(qe)),a===J&&("!="===e.substr(Tr,2)?(a=Be,Tr+=2):(a=J,0===qr&&f(Ie))))),a!==J?(u=D(),u!==J?(s=y(),s!==J?(Mr=i,o=De(r,a,s),i=o):(Tr=i,i=J)):(Tr=i,i=J)):(Tr=i,i=J)):(Tr=i,i=J);n!==J?(Mr=t,r=_e(r,n),t=r):(Tr=t,t=J)}else Tr=t,t=J;return Br[c]={nextPos:Tr,result:t},t}function y(){var t,r,n,i,o,a,u,s,c=32*Tr+8,l=Br[c];if(l)return Tr=l.nextPos,l.result;if(t=Tr,r=P(),r!==J){for(n=[],i=Tr,o=D(),o!==J?("<="===e.substr(Tr,2)?(a=He,Tr+=2):(a=J,0===qr&&f(Je)),a===J&&(">="===e.substr(Tr,2)?(a=Ge,Tr+=2):(a=J,0===qr&&f(Ke)),a===J&&(60===e.charCodeAt(Tr)?(a=Qe,Tr++):(a=J,0===qr&&f(We)),a===J&&(62===e.charCodeAt(Tr)?(a=Xe,Tr++):(a=J,0===qr&&f(Ye))))),a!==J?(u=D(),u!==J?(s=P(),s!==J?(Mr=i,o=De(r,a,s),i=o):(Tr=i,i=J)):(Tr=i,i=J)):(Tr=i,i=J)):(Tr=i,i=J);i!==J;)n.push(i),i=Tr,o=D(),o!==J?("<="===e.substr(Tr,2)?(a=He,Tr+=2):(a=J,0===qr&&f(Je)),a===J&&(">="===e.substr(Tr,2)?(a=Ge,Tr+=2):(a=J,0===qr&&f(Ke)),a===J&&(60===e.charCodeAt(Tr)?(a=Qe,Tr++):(a=J,0===qr&&f(We)),a===J&&(62===e.charCodeAt(Tr)?(a=Xe,Tr++):(a=J,0===qr&&f(Ye))))),a!==J?(u=D(),u!==J?(s=P(),s!==J?(Mr=i,o=De(r,a,s),i=o):(Tr=i,i=J)):(Tr=i,i=J)):(Tr=i,i=J)):(Tr=i,i=J);n!==J?(Mr=t,r=_e(r,n),t=r):(Tr=t,t=J)}else Tr=t,t=J;return Br[c]={nextPos:Tr,result:t},t}function P(){var t,r,n,i,o,a,u,s,c=32*Tr+9,l=Br[c];if(l)return Tr=l.nextPos,l.result;if(t=Tr,r=C(),r!==J){for(n=[],i=Tr,o=D(),o!==J?(Ze.test(e.charAt(Tr))?(a=e.charAt(Tr),Tr++):(a=J,0===qr&&f(et)),a!==J?(u=D(),u!==J?(s=C(),s!==J?(Mr=i,o=De(r,a,s),i=o):(Tr=i,i=J)):(Tr=i,i=J)):(Tr=i,i=J)):(Tr=i,i=J);i!==J;)n.push(i),i=Tr,o=D(),o!==J?(Ze.test(e.charAt(Tr))?(a=e.charAt(Tr),Tr++):(a=J,0===qr&&f(et)),a!==J?(u=D(),u!==J?(s=C(),s!==J?(Mr=i,o=De(r,a,s),i=o):(Tr=i,i=J)):(Tr=i,i=J)):(Tr=i,i=J)):(Tr=i,i=J);n!==J?(Mr=t,r=_e(r,n),t=r):(Tr=t,t=J)}else Tr=t,t=J;return Br[c]={nextPos:Tr,result:t},t}function C(){var t,r,n,i,o,a,u,s,c=32*Tr+10,l=Br[c];if(l)return Tr=l.nextPos,l.result;if(t=Tr,r=w(),r!==J){for(n=[],i=Tr,o=D(),o!==J?(tt.test(e.charAt(Tr))?(a=e.charAt(Tr),Tr++):(a=J,0===qr&&f(rt)),a!==J?(u=D(),u!==J?(s=w(),s!==J?(Mr=i,o=De(r,a,s),i=o):(Tr=i,i=J)):(Tr=i,i=J)):(Tr=i,i=J)):(Tr=i,i=J);i!==J;)n.push(i),i=Tr,o=D(),o!==J?(tt.test(e.charAt(Tr))?(a=e.charAt(Tr),Tr++):(a=J,0===qr&&f(rt)),a!==J?(u=D(),u!==J?(s=w(),s!==J?(Mr=i,o=De(r,a,s),i=o):(Tr=i,i=J)):(Tr=i,i=J)):(Tr=i,i=J)):(Tr=i,i=J);n!==J?(Mr=t,r=_e(r,n),t=r):(Tr=t,t=J)}else Tr=t,t=J;return Br[c]={nextPos:Tr,result:t},t}function w(){var t,r,n,i,o=32*Tr+11,a=Br[o];return a?(Tr=a.nextPos,a.result):(t=k(),t===J&&(t=Tr,"++"===e.substr(Tr,2)?(r=nt,Tr+=2):(r=J,0===qr&&f(it)),r===J&&("--"===e.substr(Tr,2)?(r=ot,Tr+=2):(r=J,0===qr&&f(at)),r===J&&(ut.test(e.charAt(Tr))?(r=e.charAt(Tr),Tr++):(r=J,0===qr&&f(st)))),r!==J?(n=D(),n!==J?(i=w(),i!==J?(Mr=t,r=ct(r,i),t=r):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J)),Br[o]={nextPos:Tr,result:t},t)}function k(){var t,r,n,i,o=32*Tr+12,a=Br[o];return a?(Tr=a.nextPos,a.result):(t=Tr,r=m(),r!==J?(n=D(),n!==J?("++"===e.substr(Tr,2)?(i=nt,Tr+=2):(i=J,0===qr&&f(it)),i===J&&("--"===e.substr(Tr,2)?(i=ot,Tr+=2):(i=J,0===qr&&f(at))),i!==J?(Mr=t,r=lt(r,i),t=r):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J),t===J&&(t=m()),Br[o]={nextPos:Tr,result:t},t)}function E(){var e,t,r,n,i,o=32*Tr+13,a=Br[o];return a?(Tr=a.nextPos,a.result):(e=Tr,t=Tr,r=$(),r!==J?(n=D(),n!==J?(i=j(),i!==J?(Mr=t,r=ft(r,i),t=r):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J),t!==J?(r=V(),r!==J?(Mr=e,t=dt(t,r),e=t):(Tr=e,e=J)):(Tr=e,e=J),Br[o]={nextPos:Tr,result:e},e)}function $(){var t,r,n,i,o,a,u,s=32*Tr+14,c=Br[s];return c?(Tr=c.nextPos,c.result):(t=Tr,r=N(),r===J&&(r=L(),r===J&&(r=S(),r===J&&(r=z(),r===J&&(r=F(),r===J&&(r=Tr,40===e.charCodeAt(Tr)?(n=ht,Tr++):(n=J,0===qr&&f(pt)),n!==J?(i=D(),i!==J?(o=v(),o!==J?(a=D(),a!==J?(41===e.charCodeAt(Tr)?(u=vt,Tr++):(u=J,0===qr&&f(mt)),u!==J?(Mr=r,n=xt(o),r=n):(Tr=r,r=J)):(Tr=r,r=J)):(Tr=r,r=J)):(Tr=r,r=J)):(Tr=r,r=J)))))),r!==J?(n=V(),n!==J?(Mr=t,r=bt(r,n),t=r):(Tr=t,t=J)):(Tr=t,t=J),Br[s]={nextPos:Tr,result:t},t)}function V(){var t,r,n,i,o,a,u,s,c=32*Tr+15,l=Br[c];if(l)return Tr=l.nextPos,l.result;for(t=[],r=Tr,n=D(),n!==J?(91===e.charCodeAt(Tr)?(i=gt,Tr++):(i=J,0===qr&&f(At)),i!==J?(o=D(),o!==J?(a=v(),a!==J?(u=D(),u!==J?(93===e.charCodeAt(Tr)?(s=yt,Tr++):(s=J,0===qr&&f(Pt)),s!==J?(Mr=r,n=Ct(a),r=n):(Tr=r,r=J)):(Tr=r,r=J)):(Tr=r,r=J)):(Tr=r,r=J)):(Tr=r,r=J)):(Tr=r,r=J),r===J&&(r=Tr,n=D(),n!==J?(46===e.charCodeAt(Tr)?(i=wt,Tr++):(i=J,0===qr&&f(kt)),i!==J?(o=D(),o!==J?(a=L(),a!==J?(Mr=r,n=Et(a),r=n):(Tr=r,r=J)):(Tr=r,r=J)):(Tr=r,r=J)):(Tr=r,r=J));r!==J;)t.push(r),r=Tr,n=D(),n!==J?(91===e.charCodeAt(Tr)?(i=gt,Tr++):(i=J,0===qr&&f(At)),i!==J?(o=D(),o!==J?(a=v(),a!==J?(u=D(),u!==J?(93===e.charCodeAt(Tr)?(s=yt,Tr++):(s=J,0===qr&&f(Pt)),s!==J?(Mr=r,n=Ct(a),r=n):(Tr=r,r=J)):(Tr=r,r=J)):(Tr=r,r=J)):(Tr=r,r=J)):(Tr=r,r=J)):(Tr=r,r=J),r===J&&(r=Tr,n=D(),n!==J?(46===e.charCodeAt(Tr)?(i=wt,Tr++):(i=J,0===qr&&f(kt)),i!==J?(o=D(),o!==J?(a=L(),a!==J?(Mr=r,n=Et(a),r=n):(Tr=r,r=J)):(Tr=r,r=J)):(Tr=r,r=J)):(Tr=r,r=J));return Br[c]={nextPos:Tr,result:t},t}function N(){var t,r,n,i,o,a,u,s=32*Tr+16,c=Br[s];return c?(Tr=c.nextPos,c.result):(t=Tr,"new"===e.substr(Tr,3)?(r=$t,Tr+=3):(r=J,0===qr&&f(Vt)),r!==J?(n=_(),n!==J?(i=$(),i!==J?(o=Tr,a=D(),a!==J?(u=j(),u!==J?(Mr=o,a=Nt(i,u),o=a):(Tr=o,o=J)):(Tr=o,o=J),o===J&&(o=null),o!==J?(Mr=t,r=jt(i,o),t=r):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J),Br[s]={nextPos:Tr,result:t},t)}function j(){var t,r,n,i,o,a,u,s,c,l,d=32*Tr+17,h=Br[d];if(h)return Tr=h.nextPos,h.result;if(t=Tr,40===e.charCodeAt(Tr)?(r=ht,Tr++):(r=J,0===qr&&f(pt)),r!==J?(n=D(),n!==J?(41===e.charCodeAt(Tr)?(i=vt,Tr++):(i=J,0===qr&&f(mt)),i!==J?(Mr=t,r=Lt(),t=r):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J),t===J)if(t=Tr,40===e.charCodeAt(Tr)?(r=ht,Tr++):(r=J,0===qr&&f(pt)),r!==J)if(n=D(),n!==J)if(i=v(),i!==J){for(o=[],a=Tr,u=D(),u!==J?(44===e.charCodeAt(Tr)?(s=zt,Tr++):(s=J,0===qr&&f(Ot)),s!==J?(c=D(),c!==J?(l=v(),l!==J?(Mr=a,u=Ft(i,l),a=u):(Tr=a,a=J)):(Tr=a,a=J)):(Tr=a,a=J)):(Tr=a,a=J);a!==J;)o.push(a),a=Tr,u=D(),u!==J?(44===e.charCodeAt(Tr)?(s=zt,Tr++):(s=J,0===qr&&f(Ot)),s!==J?(c=D(),c!==J?(l=v(),l!==J?(Mr=a,u=Ft(i,l),a=u):(Tr=a,a=J)):(Tr=a,a=J)):(Tr=a,a=J)):(Tr=a,a=J);o!==J?(a=D(),a!==J?(41===e.charCodeAt(Tr)?(u=vt,Tr++):(u=J,0===qr&&f(mt)),u!==J?(Mr=t,r=Tt(i,o),t=r):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J)}else Tr=t,t=J;else Tr=t,t=J;else Tr=t,t=J;return Br[d]={nextPos:Tr,result:t},t}function L(){var t,r,n,i,o,a=32*Tr+18,u=Br[a];if(u)return Tr=u.nextPos,u.result;if(qr++,t=Tr,r=Tr,qr++,n=R(),qr--,n===J?r=void 0:(Tr=r,r=J),r!==J)if(St.test(e.charAt(Tr))?(n=e.charAt(Tr),Tr++):(n=J,0===qr&&f(Rt)),n!==J){for(i=[],Ut.test(e.charAt(Tr))?(o=e.charAt(Tr),Tr++):(o=J,0===qr&&f(qt));o!==J;)i.push(o),Ut.test(e.charAt(Tr))?(o=e.charAt(Tr),Tr++):(o=J,0===qr&&f(qt));i!==J?(Mr=t,r=Bt(n,i),t=r):(Tr=t,t=J)}else Tr=t,t=J;else Tr=t,t=J;return qr--,t===J&&(r=J,0===qr&&f(Mt)),Br[a]={nextPos:Tr,result:t},t}function z(){var t,r,n,i,o,a,u=32*Tr+19,s=Br[u];return s?(Tr=s.nextPos,s.result):(t=Tr,91===e.charCodeAt(Tr)?(r=gt,Tr++):(r=J,0===qr&&f(At)),r!==J?(n=D(),n!==J?(93===e.charCodeAt(Tr)?(i=yt,Tr++):(i=J,0===qr&&f(Pt)),i!==J?(Mr=t,r=It(),t=r):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J),t===J&&(t=Tr,91===e.charCodeAt(Tr)?(r=gt,Tr++):(r=J,0===qr&&f(At)),r!==J?(n=D(),n!==J?(i=O(),i!==J?(o=D(),o!==J?(93===e.charCodeAt(Tr)?(a=yt,Tr++):(a=J,0===qr&&f(Pt)),a!==J?(Mr=t,r=Dt(i),t=r):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J)),Br[u]={nextPos:Tr,result:t},t)}function O(){var t,r,n,i,o,a,u,s,c=32*Tr+20,l=Br[c];if(l)return Tr=l.nextPos,l.result;if(t=Tr,r=v(),r!==J){for(n=[],i=Tr,o=D(),o!==J?(44===e.charCodeAt(Tr)?(a=zt,Tr++):(a=J,0===qr&&f(Ot)),a!==J?(u=D(),u!==J?(s=v(),s!==J?(Mr=i,o=_t(r,s),i=o):(Tr=i,i=J)):(Tr=i,i=J)):(Tr=i,i=J)):(Tr=i,i=J);i!==J;)n.push(i),i=Tr,o=D(),o!==J?(44===e.charCodeAt(Tr)?(a=zt,Tr++):(a=J,0===qr&&f(Ot)),a!==J?(u=D(),u!==J?(s=v(),s!==J?(Mr=i,o=_t(r,s),i=o):(Tr=i,i=J)):(Tr=i,i=J)):(Tr=i,i=J)):(Tr=i,i=J);n!==J?(Mr=t,r=Tt(r,n),t=r):(Tr=t,t=J)}else Tr=t,t=J;return Br[c]={nextPos:Tr,result:t},t}function F(){var t,r,n,i,o,a,u,s,c=32*Tr+21,l=Br[c];return l?(Tr=l.nextPos,l.result):(t=Tr,123===e.charCodeAt(Tr)?(r=Ht,Tr++):(r=J,0===qr&&f(Jt)),r!==J?(n=D(),n!==J?(125===e.charCodeAt(Tr)?(i=Gt,Tr++):(i=J,0===qr&&f(Kt)),i!==J?(Mr=t,r=Qt(),t=r):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J),t===J&&(t=Tr,123===e.charCodeAt(Tr)?(r=Ht,Tr++):(r=J,0===qr&&f(Jt)),r!==J?(n=D(),n!==J?(i=T(),i!==J?(o=D(),o!==J?(a=Tr,44===e.charCodeAt(Tr)?(u=zt,Tr++):(u=J,0===qr&&f(Ot)),u!==J?(s=D(),s!==J?(u=[u,s],a=u):(Tr=a,a=J)):(Tr=a,a=J),a===J&&(a=null),a!==J?(125===e.charCodeAt(Tr)?(u=Gt,Tr++):(u=J,0===qr&&f(Kt)),u!==J?(Mr=t,r=Wt(i),t=r):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J)),Br[c]={nextPos:Tr,result:t},t)}function T(){var t,r,n,i,o,a,u,s,c=32*Tr+22,l=Br[c];if(l)return Tr=l.nextPos,l.result;if(t=Tr,r=M(),r!==J){for(n=[],i=Tr,o=D(),o!==J?(44===e.charCodeAt(Tr)?(a=zt,Tr++):(a=J,0===qr&&f(Ot)),a!==J?(u=D(),u!==J?(s=M(),s!==J?(Mr=i,o=Xt(r,s),i=o):(Tr=i,i=J)):(Tr=i,i=J)):(Tr=i,i=J)):(Tr=i,i=J);i!==J;)n.push(i),i=Tr,o=D(),o!==J?(44===e.charCodeAt(Tr)?(a=zt,Tr++):(a=J,0===qr&&f(Ot)),a!==J?(u=D(),u!==J?(s=M(),s!==J?(Mr=i,o=Xt(r,s),i=o):(Tr=i,i=J)):(Tr=i,i=J)):(Tr=i,i=J)):(Tr=i,i=J);n!==J?(Mr=t,r=Tt(r,n),t=r):(Tr=t,t=J)}else Tr=t,t=J;return Br[c]={nextPos:Tr,result:t},t}function M(){var t,r,n,i,o,a,u=32*Tr+23,s=Br[u];return s?(Tr=s.nextPos,s.result):(t=Tr,r=L(),r===J&&(r=I(),r===J&&(r=U())),r!==J?(n=D(),n!==J?(58===e.charCodeAt(Tr)?(i=ke,Tr++):(i=J,0===qr&&f(Ee)),i!==J?(o=D(),o!==J?(a=v(),a!==J?(Mr=t,r=Yt(r,a),t=r):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J)):(Tr=t,t=J),Br[u]={nextPos:Tr,result:t},t)}function S(){var e,t=32*Tr+24,r=Br[t];return r?(Tr=r.nextPos,r.result):(e=R(),e===J&&(e=U(),e===J&&(e=I())),Br[t]={nextPos:Tr,result:e},e)}function R(){var t,r,n=32*Tr+25,i=Br[n];return i?(Tr=i.nextPos,i.result):(t=Tr,"null"===e.substr(Tr,4)?(r=Zt,Tr+=4):(r=J,0===qr&&f(er)),r!==J&&(Mr=t,r=tr()),t=r,t===J&&(t=Tr,"true"===e.substr(Tr,4)?(r=rr,Tr+=4):(r=J,0===qr&&f(nr)),r!==J&&(Mr=t,r=ir()),t=r,t===J&&(t=Tr,"false"===e.substr(Tr,5)?(r=or,Tr+=5):(r=J,0===qr&&f(ar)),r!==J&&(Mr=t,r=ur()),t=r)),Br[n]={nextPos:Tr,result:t},t)}function U(){var t,r,n,i,o,a=32*Tr+26,u=Br[a];if(u)return Tr=u.nextPos,u.result;if(qr++,t=Tr,r=q(),r!==J)if(46===e.charCodeAt(Tr)?(n=wt,Tr++):(n=J,0===qr&&f(kt)),n!==J){for(i=[],cr.test(e.charAt(Tr))?(o=e.charAt(Tr),Tr++):(o=J,0===qr&&f(lr));o!==J;)i.push(o),cr.test(e.charAt(Tr))?(o=e.charAt(Tr),Tr++):(o=J,0===qr&&f(lr));i!==J?(o=B(),o===J&&(o=null),o!==J?(Mr=t,r=fr(),t=r):(Tr=t,t=J)):(Tr=t,t=J)}else Tr=t,t=J;else Tr=t,t=J;if(t===J){if(t=Tr,46===e.charCodeAt(Tr)?(r=wt,Tr++):(r=J,0===qr&&f(kt)),r!==J){if(n=[],cr.test(e.charAt(Tr))?(i=e.charAt(Tr),Tr++):(i=J,0===qr&&f(lr)),i!==J)for(;i!==J;)n.push(i),cr.test(e.charAt(Tr))?(i=e.charAt(Tr),Tr++):(i=J,0===qr&&f(lr));else n=J;n!==J?(i=B(),i===J&&(i=null),i!==J?(Mr=t,r=fr(),t=r):(Tr=t,t=J)):(Tr=t,t=J)}else Tr=t,t=J;t===J&&(t=Tr,r=q(),r!==J?(n=B(),n===J&&(n=null),n!==J?(Mr=t,r=fr(),t=r):(Tr=t,t=J)):(Tr=t,t=J))}return qr--,t===J&&(r=J,0===qr&&f(sr)),Br[a]={nextPos:Tr,result:t},t}function q(){var t,r,n,i,o=32*Tr+27,a=Br[o];if(a)return Tr=a.nextPos,a.result;if(48===e.charCodeAt(Tr)?(t=dr,Tr++):(t=J,0===qr&&f(hr)),t===J)if(t=Tr,pr.test(e.charAt(Tr))?(r=e.charAt(Tr),Tr++):(r=J,0===qr&&f(vr)),r!==J){for(n=[],cr.test(e.charAt(Tr))?(i=e.charAt(Tr),Tr++):(i=J,0===qr&&f(lr));i!==J;)n.push(i),cr.test(e.charAt(Tr))?(i=e.charAt(Tr),Tr++):(i=J,0===qr&&f(lr));n!==J?(r=[r,n],t=r):(Tr=t,t=J)}else Tr=t,t=J;return Br[o]={nextPos:Tr,result:t},t}function B(){var t,r,n,i,o,a=32*Tr+28,u=Br[a];if(u)return Tr=u.nextPos,u.result;if(t=Tr,"e"===e.substr(Tr,1).toLowerCase()?(r=e.charAt(Tr),Tr++):(r=J,0===qr&&f(mr)),r!==J)if(Ze.test(e.charAt(Tr))?(n=e.charAt(Tr),Tr++):(n=J,0===qr&&f(et)),n===J&&(n=null),n!==J){if(i=[],cr.test(e.charAt(Tr))?(o=e.charAt(Tr),Tr++):(o=J,0===qr&&f(lr)),o!==J)for(;o!==J;)i.push(o),cr.test(e.charAt(Tr))?(o=e.charAt(Tr),Tr++):(o=J,0===qr&&f(lr));else i=J;i!==J?(r=[r,n,i],t=r):(Tr=t,t=J)}else Tr=t,t=J;else Tr=t,t=J;return Br[a]={nextPos:Tr,result:t},t}function I(){var t,r,n,i,o,a=32*Tr+29,u=Br[a];if(u)return Tr=u.nextPos,u.result;if(qr++,t=Tr,34===e.charCodeAt(Tr)?(r=br,Tr++):(r=J,0===qr&&f(gr)),r!==J){for(n=[],i=Tr,'\\"'===e.substr(Tr,2)?(o=Ar,Tr+=2):(o=J,0===qr&&f(yr)),o!==J&&(Mr=i,o=Pr()),i=o,i===J&&(Cr.test(e.charAt(Tr))?(i=e.charAt(Tr),Tr++):(i=J,0===qr&&f(wr)));i!==J;)n.push(i),i=Tr,'\\"'===e.substr(Tr,2)?(o=Ar,Tr+=2):(o=J,0===qr&&f(yr)),o!==J&&(Mr=i,o=Pr()),i=o,i===J&&(Cr.test(e.charAt(Tr))?(i=e.charAt(Tr),Tr++):(i=J,0===qr&&f(wr)));n!==J?(34===e.charCodeAt(Tr)?(i=br,Tr++):(i=J,0===qr&&f(gr)),i!==J?(Mr=t,r=kr(n),t=r):(Tr=t,t=J)):(Tr=t,t=J)}else Tr=t,t=J;if(t===J)if(t=Tr,39===e.charCodeAt(Tr)?(r=Er,Tr++):(r=J,0===qr&&f($r)),r!==J){for(n=[],i=Tr,"\\'"===e.substr(Tr,2)?(o=Vr,Tr+=2):(o=J,0===qr&&f(Nr)),o!==J&&(Mr=i,o=jr()),i=o,i===J&&(Lr.test(e.charAt(Tr))?(i=e.charAt(Tr),Tr++):(i=J,0===qr&&f(zr)));i!==J;)n.push(i),i=Tr,"\\'"===e.substr(Tr,2)?(o=Vr,Tr+=2):(o=J,0===qr&&f(Nr)),o!==J&&(Mr=i,o=jr()),i=o,i===J&&(Lr.test(e.charAt(Tr))?(i=e.charAt(Tr),Tr++):(i=J,0===qr&&f(zr)));n!==J?(39===e.charCodeAt(Tr)?(i=Er,Tr++):(i=J,0===qr&&f($r)),i!==J?(Mr=t,r=kr(n),t=r):(Tr=t,t=J)):(Tr=t,t=J)}else Tr=t,t=J;return qr--,t===J&&(r=J,0===qr&&f(xr)),Br[a]={nextPos:Tr,result:t},t}function D(){var e,t=32*Tr+30,r=Br[t];return r?(Tr=r.nextPos,r.result):(e=_(),e===J&&(e=null),Br[t]={nextPos:Tr,result:e},e)}function _(){var t,r,n=32*Tr+31,i=Br[n];if(i)return Tr=i.nextPos,i.result;if(t=[],Or.test(e.charAt(Tr))?(r=e.charAt(Tr),Tr++):(r=J,0===qr&&f(Fr)),r!==J)for(;r!==J;)t.push(r),Or.test(e.charAt(Tr))?(r=e.charAt(Tr),Tr++):(r=J,0===qr&&f(Fr));else t=J;return Br[n]={nextPos:Tr,result:t},t}r=void 0!==r?r:{};var H,J={},G={Text:h,Expression:v},K=h,Q=/^[^{]/,W=o(["{"],!0,!1),X=function(e,t,r){return(e.length>0?[e.join("")]:[]).concat([t],r)},Y=a(),Z=function(e){return e.length>0?[e.join("")]:[]},ee="{{{",te=i("{{{",!1),re="}}}",ne=i("}}}",!1),ie=function(e){return{html:!0,expression:e}},oe="{{",ae=i("{{",!1),ue="}}",se=i("}}",!1),ce=function(e){return{html:!1,expression:e}},le="=",fe=i("=",!1),de="*=",he=i("*=",!1),pe="/=",ve=i("/=",!1),me="%=",xe=i("%=",!1),be="+=",ge=i("+=",!1),Ae="-=",ye=i("-=",!1),Pe=function(e,t,r){return{type:"Assignment",operator:t,left:e,right:r}},Ce="?",we=i("?",!1),ke=":",Ee=i(":",!1),$e=function(e,t,r){return{type:"Conditional",test:e,consequent:t,alternate:r}},Ve="||",Ne=i("||",!1),je=function(e,t){return{operator:"||",arg:t}},Le=function(e,t){return Ir("Logical",e,t)},ze="&&",Oe=i("&&",!1),Fe=function(e,t){return{operator:"&&",arg:t}},Te="===",Me=i("===",!1),Se="!==",Re=i("!==",!1),Ue="==",qe=i("==",!1),Be="!=",Ie=i("!=",!1),De=function(e,t,r){return{operator:t,arg:r}},_e=function(e,t){return Ir("Binary",e,t)},He="<=",Je=i("<=",!1),Ge=">=",Ke=i(">=",!1),Qe="<",We=i("<",!1),Xe=">",Ye=i(">",!1),Ze=/^[+\-]/,et=o(["+","-"],!1,!1),tt=/^[*\/%]/,rt=o(["*","/","%"],!1,!1),nt="++",it=i("++",!1),ot="--",at=i("--",!1),ut=/^[+!\-]/,st=o(["+","!","-"],!1,!1),ct=function(e,t){return{type:"++"===e||"--"===e?"Update":"Unary",operator:e,argument:t,prefix:!0}},lt=function(e,t){return{type:"Update",operator:t,argument:e,prefix:!1}},ft=function(e,t){return{type:"Call",callee:e,arguments:t}},dt=function(e,t){return t.reduce(function(e,t){return{type:"Member",property:t,object:e}},e)},ht="(",pt=i("(",!1),vt=")",mt=i(")",!1),xt=function(e){return e},bt=function(e,t){return t.reduce(function(e,t){return{type:"Member",object:e,property:t}},e)},gt="[",At=i("[",!1),yt="]",Pt=i("]",!1),Ct=function(e){return e},wt=".",kt=i(".",!1),Et=function(e){return{type:"Literal",value:e.name}},$t="new",Vt=i("new",!1),Nt=function(e,t){return t},jt=function(e,t){return{type:"NewExpression",callee:e,arguments:t||[]}},Lt=function(){return[]},zt=",",Ot=i(",",!1),Ft=function(e,t){return t},Tt=function(e,t){return[e].concat(t)},Mt=s("identifier"),St=/^[a-z$_]/i,Rt=o([["a","z"],"$","_"],!1,!0),Ut=/^[a-z$_0-9]/i,qt=o([["a","z"],"$","_",["0","9"]],!1,!0),Bt=function(e,t){return{type:"Identifier",name:e+t.join("")}},It=function(){return{type:"Array",elements:[]}},Dt=function(e){return{type:"Array",elements:e}},_t=function(e,t){return t},Ht="{",Jt=i("{",!1),Gt="}",Kt=i("}",!1),Qt=function(){return{type:"Object",properties:[]}},Wt=function(e){return{type:"Object",properties:e}},Xt=function(e,t){return t},Yt=function(e,t){return{type:"Property",key:e.name||e.value,value:t}},Zt="null",er=i("null",!1),tr=function(){return{type:"Literal",value:null}},rr="true",nr=i("true",!1),ir=function(){return{type:"Literal",value:!0}},or="false",ar=i("false",!1),ur=function(){return{type:"Literal",value:!1}},sr=s("number"),cr=/^[0-9]/,lr=o([["0","9"]],!1,!1),fr=function(){return{type:"Literal",value:parseFloat(n())}},dr="0",hr=i("0",!1),pr=/^[1-9]/,vr=o([["1","9"]],!1,!1),mr=i("e",!0),xr=s("string"),br='"',gr=i('"',!1),Ar='\\"',yr=i('\\"',!1),Pr=function(){return'"'},Cr=/^[^"]/,wr=o(['"'],!0,!1),kr=function(e){return{type:"Literal",value:e.join("")}},Er="'",$r=i("'",!1),Vr="\\'",Nr=i("\\'",!1),jr=function(){return"'"},Lr=/^[^'']/,zr=o(["'","'"],!0,!1),Or=/^[\t ]/,Fr=o(["\t"," "],!1,!1),Tr=0,Mr=0,Sr=[{line:1,column:1}],Rr=0,Ur=[],qr=0,Br={};if("startRule"in r){if(!(r.startRule in G))throw new Error("Can't start parsing from rule \""+r.startRule+'".');K=G[r.startRule]}var Ir=function(e,t,r){return 0===r.length?t:r.reduce(function(t,r){return{type:e,operator:r.operator,left:t,right:r.arg}},t)};if(H=K(),H!==J&&Tr===e.length)return H;throw H!==J&&Tr<e.length&&f(u()),d(Ur,Rr<e.length?e.charAt(Rr):null,Rr<e.length?l(Rr,Rr+1):l(Rr,Rr))}return e(t,Error),t.buildMessage=function(e,t){function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function n(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+r(e)})}function i(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+r(e)})}function o(e){return s[e.type](e)}function a(e){var t,r,n=new Array(e.length);for(t=0;t<e.length;t++)n[t]=o(e[t]);if(n.sort(),n.length>0){for(t=1,r=1;t<n.length;t++)n[t-1]!==n[t]&&(n[r]=n[t],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}function u(e){return e?'"'+n(e)+'"':"end of input"}var s={literal:function(e){return'"'+n(e.text)+'"'},class:function(e){var t,r="";for(t=0;t<e.parts.length;t++)r+=e.parts[t]instanceof Array?i(e.parts[t][0])+"-"+i(e.parts[t][1]):i(e.parts[t]);return"["+(e.inverted?"^":"")+r+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};return"Expected "+a(e)+" but "+u(t)+" found."},{SyntaxError:t,parse:r}}(),t=function(e){return String(null!==e&&"undefined"!=typeof e?e:"")},r=function(e,t){var r=e.indexOf(t);r>-1&&e.splice(r,1)},n=function(e){return e.split("").reduce(function(e,t){return(e<<5)-e+t.charCodeAt(0)|0},0).toString(16)},i=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},o=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Expression";return e.parse(t,{startRule:r})},a=["accept","accept-charset","accesskey","action","align","alt","async","autocomplete","autofocus","autoplay","autosave","buffered","challenge","charset","checked","cite","class","code","codebase","cols","colspan","content","contenteditable","contextmenu","controls","coords","crossorigin","data","data-*","datetime","default","defer","dir","dirname","disabled","download","draggable","dropzone","enctype","for","form","formaction","headers","hidden","high","href","hreflang","http-equiv","icon","id","integrity","ismap","itemprop","keytype","kind","label","lang","language","list","loop","low","manifest","max","maxlength","minlength","media","method","min","multiple","muted","name","novalidate","open","optimum","pattern","ping","placeholder","poster","preload","radiogroup","readonly","rel","required","reversed","rows","rowspan","sandbox","scope","scoped","seamless","selected","shape","size","sizes","slot","span","spellcheck","src","srcdoc","srclang","srcset","start","step","style","summary","tabindex","target","title","type","usemap","value","wrap"],u=["selected","checked","disabled","readonly","multiple","ismap","defer","noresize"],s=["align-.*","all","animation","animation-.*","backface-visibility","background","background-.*","border","border-.*","bottom","box-.*","break-.*","caption-side","caret-color","clear","clip","clip-path","color","column-.*","columns","content","counter-.*","cursor","direction","display","empty-cells","filter","flex-.*","float","font","font-.*","grid","grid-.*","height","hyphens","image-.*","ime-mode","inline-size","isolation","justify-content","left","letter-spacing","line-.*","list-.*","margin","margin-.*","mask","mask-.*","max-height","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","object-fit","object-position","offset-.*","opacity","order","orphans","outline","outline-.*","overflow","overflow-.*","padding","padding-.*","page-break-.*","perspective","perspective-origin","pointer-events","position","quotes","resize","right","scroll-.*","shape-.*","tab-size","table-layout","text-.*","top","touch-action","transform","transform-.*","transition","transition-.*","unicode-bidi","unset","vertical-align","visibility","white-space","widows","width","will-change","word-.*","writing-mode","z-index"],c=["load","error","focus","blur","click","dblclick","mouse.*","keyup","keydown","keypress","input","change","submit","reset","scroll","resize","drag.*","drop"],l=function e(t,r){t.forEach(function(t){r(t),e(t.children,r)})},f=function e(t,r){var n=void 0,i=void 0,o=t.type,a=t.operator;if("Literal"===o)n=t.value;else if("Array"===o)n=t.elements.map(function(t){return e(t,r).value});else if("Object"===o)n={},t.properties.forEach(function(t){n[t.key]=e(t.value,r).value});else if("Identifier"===o){for(var u=r;u&&"undefined"==typeof u[t.name];)u=u.$parent;u||(u=r),n=u[t.name],i=function(e){return u[t.name]=e,e}}else if("Member"===o){var s=e(t.object,r).value,c=e(t.property,r).value;n="undefined"!=typeof s?s[c]:void 0,i=function(e){return s[c]=e,e}}else if("Conditional"===o)n=e(t.test,r).value?e(t.consequent,r).value:e(t.alternate,r).value;else if("Unary"===o||"Update"===o){var l=e(t.argument,r),f=l.value;n="!"===a?!f:"+"===a?+f:"-"===a?-f:"++"===a?f+1:"--"===a?f-1:null,"Update"===o&&(i=l.set,i&&(n=i(n)),t.prefix||(n+="++"===a?-1:1))}else if("Binary"===o||"Logical"===o||"Assignment"===o){var d=e(t.left,r),h=d.value,p=e(t.right,r).value;n="==="===a?h===p:"!=="===a?h!==p:"=="===a?h==p:"!="===a?h!=p:"<"===a?h<p:">"===a?h>p:"<="===a?h<=p:">="===a?h>=p:"&&"===a?h&&p:"||"===a?h||p:"+"===a?h+p:"-"===a?h-p:"*"===a?h*p:"/"===a?h/p:"%"===a?h%p:"*="===a?h*p:"/="===a?h/p:"%="===a?h%p:"+="===a?h+p:"-="===a?h-p:"="===a?p:null,"Assignment"===o&&(i=d.set,n=i(n))}else if("Call"===o||"NewExpression"===o){var v=t.callee.object?e(t.callee.object,r).value:r,m=e(t.callee,r).value,x=t.arguments.map(function(t){return e(t,r).value});n=m?"Call"===o?m.apply(v,x):new(m.bind.apply(m,x)):void 0}return{value:n,set:i}},d=[],h=function(e,t,r,n,o){var a={view:t,node:r,syntax:o,eval:function(){return f(arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,a.view).value},exec:function(t){if(e[t]){var r;(r=e[t]).call.apply(r,[a,a.view,a.node].concat(i(n)))}}};if(e.template){var u=document.createElement("span");u.innerHTML=e.template,u=u.childNodes[0],Array.from(r.attributes).forEach(function(e){return u.setAttribute(e.name,e.value)}),r.parentNode.replaceChild(u,r),a.node=u}return a},p=function e(t,n,i,a){if([1,3].indexOf(n.nodeType)!==-1){var u=n.vElement;if(u)return void(a&&u.view!==t.$parent?u.view.$setParent(t):(i.push(u),l(u.children,function(e){return e.binds.forEach(function(e){return e.view=t})}),u.parent&&r(u.parent.children,u)));if(u=n.vElement={view:t,parent:a,node:n,children:[],binds:[],removedAttrs:[]},i.push(u),1===n.nodeType){var s=Array.from(n.attributes),c=void 0;u.binds=[],d.forEach(function(r){if(r.tag){var i=n.tagName.match(new RegExp("^"+r.tag.replace("{prefix}",m.prefix)+"$","i"));if(i){var a=h(r,t,n,i);u.binds.push(a),c=r.block||r.template,r.template&&e(t,a.node,u.children)}}else r.attribute&&(s=s.filter(function(i){if(!c){var a=i.name.match(new RegExp("^"+r.attribute.replace("{prefix}",m.prefix)+"$","i"));if(a){var s=o(i.value||"undefined");u.removedAttrs.push({name:i.name,value:i.value}),n.removeAttribute(i.name);var l=h(r,t,n,a,s);u.binds.push(l),c=r.block||r.template,r.template&&e(t,l.node,u.children)}return!a}}))}),c||Array.from(n.childNodes).forEach(function(r){e(t,r,u.children,u)})}else if(3===n.nodeType&&n.nodeValue.indexOf("{{")>-1){var f=n.nodeValue;o(f,"Text").forEach(function(e){var r=void 0;if("string"==typeof e)r=document.createTextNode(e);else{r=e.html?document.createElement("span"):document.createTextNode("");var o=h(x,t,r,["",e.html?"html":"text"],e.expression),a=Object.assign({},u,{binds:[o]});i.push(a),r.vElement=a}n.parentNode.insertBefore(r,n)}),n.parentNode.removeChild(n)}}},v=0,m=function e(t,n,i){t="string"==typeof t?document.querySelector(t):t[0]||t;var a=[],u={},s=[],c={$id:v++,$vDOM:a,$:function(){l(a,function(e){return e.binds.forEach(function(e){return e.exec("update")})}),c.$emit("update")},$destroy:function(){l(a,function(e){e.binds.forEach(function(e){return e.exec("destroy")}),delete e.node.vElement,e.removedAttrs.forEach(function(t){return e.node.setAttribute(t.name,t.value)})}),c.$emit("destroy")},$on:function(e,t){u[e]||(u[e]=[]),u[e].push(t)},$off:function(e,t){u[e]&&r(u[e],t)},$emit:function(e){u[e]&&u[e].forEach(function(e){return e()})},$watch:function(e,t){s.push({expr:e,syntax:o(e),cb:t})},$unwatch:function(e,t){var n=s.find(function(r){return r.expr===e&&r.cb===t});n&&r(s,n)},$setParent:function(e){var t=c.$parent;c.$parent=e,t&&t.$off&&t.$off("update",c.$),e.$on&&e.$on("update",c.$)}};return Object.assign(c,n),c.$on("update",function(){s.forEach(function(e){var t=f(e.syntax,c).value;t!==e.val&&(e.val=t,e.cb(t))})}),c.$setParent(i||t.vElement&&t.vElement.view||e.root),p(c,t,a),l(a,function(e){return e.binds.forEach(function(e){return e.exec("create")})}),c};Object.assign(m,{version:"0.1.8",
parse:o,evaluate:f,prefix:"z-",directive:function(e){return e.template&&(e.block=!0,e.order=.5),e.order||(e.order=100),d.push(e),d.sort(function(e,t){return e.order-t.order}),e},root:{$parent:"undefined"!=typeof global?global:window,number:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number(e).toFixed(t)},percent:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Number(100*e).toFixed(t)+"%"}}});var x=m.directive({attribute:"{prefix}(text|html)",block:!0,create:function(e,t){t.innerHTML=""},update:function(e,r,n,i){var o=t(this.eval());o!==this.prevValue&&("html"===i?r.innerHTML=o:r.textContent=o,this.prevValue=o)}});return m.directive({attribute:"{prefix}show",update:function(e,t){var r=this.eval()?"":"none";r!==this.prevValue&&(t.style.display=r,this.prevValue=r)}}),m.directive({attribute:"{prefix}exist",order:3,block:!0,create:function(e,t,r){this.marker=document.createComment(r),t.parentNode.replaceChild(this.marker,t)},update:function(e,t){var r=!!this.eval();r!==this.prevValue&&(r?(this.clone=t.cloneNode(!0),this.childView=m(this.clone,void 0,e),this.marker.parentNode.insertBefore(this.clone,this.marker)):this.clone&&this.marker.parentNode.removeChild(this.clone),this.prevValue=r),this.clone&&this.childView.$()}}),m.directive({attribute:"{prefix}(.+)-in",order:2,block:!0,create:function(e,t,r){this.items=[],this.marker=document.createComment(r),t.parentNode.replaceChild(this.marker,t)},update:function(e,t,n,i){var o=this,a=this.eval()||[],u=document.createDocumentFragment();this.items.forEach(function(e){a.indexOf(e.data)===-1&&(o.marker.parentNode.removeChild(e.el),r(o.items,e))}),a.forEach(function(e){if(!o.items.find(function(t){return t.data===e})){var r=t.cloneNode(!0);o.items.push({el:r,data:e}),u.appendChild(r)}}),this.marker.parentNode.insertBefore(u,this.marker),this.items.forEach(function(t){t.view||(t.view=m(t.el,void 0,e),t.view[i]=t.data),t.view.$()})}}),m.directive({attribute:"{prefix}(?:attr-(.+)|("+a.join("|")+"))",update:function(e,t,r,n,i){n=n||i;var o=this.eval();o!==this.prevValue&&(this.prevValue=o,u.indexOf(n)>-1&&(o=o?n:void 0),"undefined"==typeof o?t.removeAttribute(n):t.setAttribute(n,o))}}),m.directive({attribute:"{prefix}class-(.+)",update:function(e,t,r,n){var i=!!this.eval();i!==this.prevValue&&(this.prevValue=i,t.classList.toggle(n,i))}}),m.directive({attribute:"{prefix}(?:style-(.+)|("+s.join("|")+"))",update:function(e,t,r,n,i){var o=this.eval();o!==this.prevValue&&(this.prevValue=o,t.style[n||i]=o)}}),m.directive({attribute:"{prefix}model",block:!0,create:function(e,t){var r=this,i=t.tagName.toLowerCase(),a=(t.getAttribute("type")||"").toLowerCase();this.type="checkbox"===a?"checkbox":"select"===i?"select":"radio"===a?"radio":["range","number"].indexOf(a)>-1?"number":["date","datetime-local","time","month","week"].indexOf(a)>-1?"date":"text","radio"!==this.type||t.getAttribute("name")||t.setAttribute("name",n(e.$id+JSON.stringify(this.syntax))),this.getValue=function(e){var t=e.getAttribute("z-value");return t?r.eval(o(t)):e.getAttribute("value")},this.handler=function(){if("radio"!==r.type||t.checked){var n="checkbox"===r.type?!!t.checked:"select"===r.type?r.getValue(t.options[t.selectedIndex]):"radio"===r.type?r.getValue(t):"number"===r.type?Number(t.value):"date"===r.type?t.valueAsDate:t.value;n!==r.prevValue&&(r.prevValue=n,r.eval({type:"Assignment",operator:"=",left:r.syntax,right:{type:"Literal",value:n}}),e.$())}},t.addEventListener("input",this.handler),t.addEventListener("change",this.handler),"select"===this.type&&(t.selectedIndex=-1)},update:function(e,r){var n=this,i=this.eval();if(i!==this.prevValue){if("checkbox"===this.type)r.checked=!!i;else if("select"===this.type)r.selectedIndex=Array.from(r.options).reduce(function(e,r,o){var a=n.getValue(r);return r.setAttribute("value",t(a)),a===i?o:e},-1);else if("radio"===this.type){var o=this.getValue(r);r.checked=i===o,r.setAttribute("value",t(o))}else"number"===this.type?r.value=Number(i):"date"===this.type?r.valueAsDate=i:r.value=t(i);this.prevValue=i}},destroy:function(e,t){t.removeEventListener("input",this.handler),t.removeEventListener("change",this.handler)}}),m.directive({attribute:"{prefix}(?:on-(.+)|("+c.join("|")+"))",create:function(e,t,r,n,i){var o=this;this.handler=function(t){e.$event=t,o.eval(),delete e.$event,e.$()},t.addEventListener(n||i,this.handler)},destroy:function(e,t,r,n,i){t.removeEventListener(n||i,this.handler)}}),m.directive({attribute:"{prefix}skip",order:1,block:!0}),m});
